---
title: "Configuration"
description: "Complete guide to configuring AIKit including AikConfig structure, file locations, and agent-specific settings."
---

# Configuration

AIKit uses a hierarchical configuration system that supports both global and project-specific settings. Configuration is stored in TOML format and can be customized for different AI agents, registries, and development environments.

## Configuration Overview

AIKit's configuration system consists of:

- **Global Configuration** (`~/.aikit/config.toml`) - User-wide settings
- **Project Configuration** (`aikit.toml`) - Project-specific settings
- **Runtime Overrides** - Environment variables and command-line flags

### Configuration Hierarchy

```
Command-line flags (highest priority)
├── Environment variables
├── Project config (aikit.toml)
├── Global config (~/.aikit/config.toml)
└── Built-in defaults (lowest priority)
```

## AikConfig Structure

The main configuration structure for AIKit is defined as follows:

```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct AikConfig {
    /// Configuration version
    pub version: String,
    /// Package installation directory (default: ".aikit")
    pub install_dir: String,
    /// Agent configurations
    pub agents: HashMap<String, AgentConfig>,
    /// Registry configuration
    pub registry: RegistryConfig,
    /// User preferences
    pub preferences: UserPreferences,
}
```

### Core Configuration Fields

<ParamField path="version" type="String">
Configuration format version. Currently "1.0".
</ParamField>

<ParamField path="install_dir" type="String">
Directory where AIKit installs packages and stores package data. Defaults to ".aikit".
</ParamField>

<ParamField path="agents" type="HashMap&lt;String, AgentConfig&gt;">
Configuration for each supported AI agent (Claude, Gemini, Copilot, etc.).
</ParamField>

<ParamField path="registry" type="RegistryConfig">
Settings for package registries and search functionality.
</ParamField>

<ParamField path="preferences" type="UserPreferences">
User-specific preferences and defaults.
</ParamField>

## Configuration File Locations

AIKit searches for configuration files in the following order:

### Global Configuration

**Location**: `~/.aikit/config.toml` (Unix/Linux/macOS) or `%USERPROFILE%\.aikit\config.toml` (Windows)

**Purpose**: User-wide settings that apply to all AIKit projects

```toml
# ~/.aikit/config.toml - Global user configuration
version = "1.0"
install_dir = ".aikit"

[preferences]
auto_gitignore = true
verbose = false
default_agent = "claude"
confirm_overwrite = true
network_timeout = 30

[registry]
remotes = ["https://api.github.com"]
cache_dir = ".aikit/cache"
cache_ttl_minutes = 60
```

### Project Configuration

**Location**: `aikit.toml` in the project root directory

**Purpose**: Project-specific settings that override global defaults

```toml
# aikit.toml - Project configuration
version = "1.0"
install_dir = ".aikit"

[agents.claude]
name = "Claude Code"
key = "claude"
folder = "claude"
requires_cli = true
output_dir = "commands/claude"
arg_placeholder = "<argument>"
extensions = ["md", "txt", "py", "js", "rs"]

[agents.gemini]
name = "Google Gemini"
key = "gemini"
folder = "gemini"
requires_cli = false
output_dir = "commands/gemini"
arg_placeholder = "{arg}"
extensions = ["md", "txt", "py", "js"]

[registry]
remotes = ["https://api.github.com", "https://custom-registry.example.com"]
cache_dir = ".aikit/cache"
cache_ttl_minutes = 30

[preferences]
auto_gitignore = true
verbose = true
default_agent = "claude"
confirm_overwrite = false
network_timeout = 60
```

## Agent Configuration

Each AI agent supported by AIKit has its own configuration section.

### AgentConfig Structure

```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct AgentConfig {
    /// Display name
    pub name: String,
    /// Internal key (lowercase, no spaces)
    pub key: String,
    /// Configuration folder name
    pub folder: String,
    /// Installation URL (optional)
    pub install_url: Option<String>,
    /// Whether this agent requires CLI installation
    pub requires_cli: bool,
    /// Output format for generated content
    pub output_format: OutputFormat,
    /// Output directory for commands/prompts
    pub output_dir: String,
    /// Placeholder for command arguments
    pub arg_placeholder: String,
    /// Supported file extensions
    pub extensions: Vec<String>,
}
```

### Pre-configured Agents

AIKit comes with pre-configured support for major AI agents:

#### Claude Code

```toml
[agents.claude]
name = "Claude Code"
key = "claude"
folder = "claude"
requires_cli = true
install_url = "https://docs.anthropic.com/claude/docs/desktop-app"
output_dir = "commands/claude"
arg_placeholder = "<argument>"
extensions = ["md", "txt", "py", "js", "rs", "go", "java", "cpp", "c"]
```

#### Google Gemini

```toml
[agents.gemini]
name = "Google Gemini"
key = "gemini"
folder = "gemini"
requires_cli = false
output_dir = "commands/gemini"
arg_placeholder = "{arg}"
extensions = ["md", "txt", "py", "js", "ts", "java", "cpp"]
```

#### GitHub Copilot

```toml
[agents.copilot]
name = "GitHub Copilot"
key = "copilot"
folder = "copilot"
requires_cli = false
output_dir = "commands/copilot"
arg_placeholder = "<argument>"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go"]
```

#### Cursor
```toml
[agents.cursor]
name = "Cursor"
key = "cursor"
folder = "cursor"
requires_cli = false
output_dir = "commands/cursor"
arg_placeholder = "{args}"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go", "java"]
```

#### Qwen
```toml
[agents.qwen]
name = "Qwen Code"
key = "qwen"
folder = "qwen"
requires_cli = true
install_url = "https://github.com/QwenLM/Qwen-Agent"
output_dir = "commands/qwen"
arg_placeholder = "$ARGUMENTS"
extensions = ["md", "txt", "py", "js", "ts", "rs"]
```

#### OpenCode
```toml
[agents.opencode]
name = "OpenCode"
key = "opencode"
folder = "opencode"
requires_cli = true
output_dir = "commands/opencode"
arg_placeholder = "<arg>"
extensions = ["md", "txt", "py", "js", "ts", "java", "cpp"]
```

#### Codex
```toml
[agents.codex]
name = "GitHub Codex"
key = "codex"
folder = "codex"
requires_cli = false
output_dir = "commands/codex"
arg_placeholder = "{arg}"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go"]
```

#### Windsurf
```toml
[agents.windsurf]
name = "Windsurf"
key = "windsurf"
folder = "windsurf"
requires_cli = false
output_dir = "commands/windsurf"
arg_placeholder = "[ARG]"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go", "java"]
```

#### KiloCode
```toml
[agents.kilocode]
name = "KiloCode"
key = "kilocode"
folder = "kilocode"
requires_cli = false
output_dir = "commands/kilocode"
arg_placeholder = "<arg>"
extensions = ["md", "txt", "py", "js", "ts", "java", "cpp", "c"]
```

#### Auggie
```toml
[agents.auggie]
name = "Auggie CLI"
key = "auggie"
folder = "auggie"
requires_cli = true
output_dir = "commands/auggie"
arg_placeholder = "$ARGS"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go"]
```

#### Roo Code
```toml
[agents.roo]
name = "Roo Code"
key = "roo"
folder = "roo"
requires_cli = false
output_dir = "commands/roo"
arg_placeholder = "{args}"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go", "java"]
```

#### CodeBuddy
```toml
[agents.codebuddy]
name = "CodeBuddy CLI"
key = "codebuddy"
folder = "codebuddy"
requires_cli = true
output_dir = "commands/codebuddy"
arg_placeholder = "<argument>"
extensions = ["md", "txt", "py", "js", "ts", "java", "cpp"]
```

#### Qoder
```toml
[agents.qoder]
name = "Qoder CLI"
key = "qoder"
folder = "qoder"
requires_cli = true
output_dir = "commands/qoder"
arg_placeholder = "[ARG]"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go"]
```

#### Amp
```toml
[agents.amp]
name = "Amp"
key = "amp"
folder = "amp"
requires_cli = true
output_dir = "commands/amp"
arg_placeholder = "{arg}"
extensions = ["md", "txt", "py", "js", "ts", "java", "cpp"]
```

#### Shai
```toml
[agents.shai]
name = "Shai"
key = "shai"
folder = "shai"
requires_cli = true
output_dir = "commands/shai"
arg_placeholder = "$ARGUMENTS"
extensions = ["md", "txt", "py", "js", "ts", "rs"]
```

#### Continue
```toml
[agents.continue]
name = "Continue"
key = "continue"
folder = "continue"
requires_cli = false
output_dir = "commands/continue"
arg_placeholder = "{args}"
extensions = ["md", "txt", "py", "js", "ts", "rs", "go", "json"]
```

#### Bob
```toml
[agents.bob]
name = "Bob"
key = "bob"
folder = "bob"
requires_cli = false
output_dir = "commands/bob"
arg_placeholder = "<arg>"
extensions = ["md", "txt", "py", "js", "ts", "java", "cpp", "c"]
```

### Custom Agent Configuration

You can add support for additional AI agents:

```toml
[agents.my-custom-agent]
name = "My Custom Agent"
key = "custom"
folder = "custom"
requires_cli = true
install_url = "https://my-agent.example.com/install"
output_dir = "commands/custom"
arg_placeholder = "[ARG]"
extensions = ["md", "txt", "py", "js", "custom"]
output_format = "markdown"
```

### Agent-Specific Folder Structures

Each agent gets its own folder structure under the output directory:

```
project/
├── commands/
│   ├── claude/
│   │   ├── help.md
│   │   ├── analyze.md
│   │   └── generate.md
│   ├── gemini/
│   │   ├── help.md
│   │   └── analyze.md
│   └── copilot/
│       └── refactor.md
└── aikit.toml
```

## Registry Configuration

Registry settings control how AIKit searches for and installs packages.

### RegistryConfig Structure

```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct RegistryConfig {
    /// List of remote registries to search
    pub remotes: Vec<String>,
    /// Cache directory for registry data
    pub cache_dir: String,
    /// Cache TTL in minutes
    pub cache_ttl_minutes: i64,
}
```

### Registry Settings

<ParamField path="registry.remotes" type="Vec&lt;String&gt;">
List of registry URLs to search for packages. Defaults to GitHub API.
</ParamField>

<ParamField path="registry.cache_dir" type="String">
Directory to cache registry data and package metadata. Defaults to ".aikit/cache".
</ParamField>

<ParamField path="registry.cache_ttl_minutes" type="i64">
How long to cache registry data in minutes. Defaults to 60 (1 hour).
</ParamField>

### Example Registry Configuration

```toml
[registry]
# Primary registry (GitHub)
remotes = ["https://api.github.com"]

# Custom cache settings
cache_dir = ".aikit/cache"
cache_ttl_minutes = 30

# Multiple registries (future feature)
# remotes = [
#     "https://api.github.com",
#     "https://registry.aikit.dev/api",
#     "https://company-registry.internal/api"
# ]
```

## User Preferences

User preferences control AIKit's behavior and defaults.

### UserPreferences Structure

```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct UserPreferences {
    /// Auto-add .aikit to .gitignore
    pub auto_gitignore: bool,
    /// Default AI agent
    pub default_agent: Option<String>,
    /// Enable verbose output
    pub verbose: bool,
    /// Confirm before overwriting files
    pub confirm_overwrite: bool,
    /// Network timeout in seconds
    pub network_timeout: u64,
}
```

### Preference Settings

<ParamField path="preferences.auto_gitignore" type="bool">
Automatically add `.aikit/` directory to `.gitignore`. Defaults to true.
</ParamField>

<ParamField path="preferences.default_agent" type="Option&lt;String&gt;">
Default AI agent to use when not specified. Must match an agent key.
</ParamField>

<ParamField path="preferences.verbose" type="bool">
Enable verbose output for debugging. Defaults to false.
</ParamField>

<ParamField path="preferences.confirm_overwrite" type="bool">
Ask for confirmation before overwriting existing files. Defaults to true.
</ParamField>

<ParamField path="preferences.network_timeout" type="u64">
Timeout for network operations in seconds. Defaults to 30.
</ParamField>

### Example Preferences

```toml
[preferences]
# Development-friendly settings
auto_gitignore = true
verbose = true
default_agent = "claude"
confirm_overwrite = false
network_timeout = 60
```

## Configuration Examples

### Basic Project Setup

```toml
# aikit.toml - Basic project configuration
version = "1.0"
install_dir = ".aikit"

[preferences]
default_agent = "claude"
verbose = false

[registry]
cache_ttl_minutes = 30
```

### Development Environment

```toml
# aikit.toml - Development configuration
version = "1.0"
install_dir = ".aikit"

[preferences]
verbose = true
confirm_overwrite = false
network_timeout = 120
default_agent = "claude"

[registry]
cache_ttl_minutes = 5  # Short cache for development
```

### Multi-Agent Project

```toml
# aikit.toml - Multi-agent project
version = "1.0"
install_dir = ".aikit"

[agents.claude]
name = "Claude Code"
key = "claude"
folder = "claude"
requires_cli = true
output_dir = "commands/claude"
extensions = ["md", "py", "js", "rs"]

[agents.gemini]
name = "Google Gemini"
key = "gemini"
folder = "gemini"
requires_cli = false
output_dir = "commands/gemini"
extensions = ["md", "py", "js"]

[preferences]
default_agent = "claude"
verbose = true
```

### Enterprise Setup

```toml
# ~/.aikit/config.toml - Enterprise global config
version = "1.0"
install_dir = ".aikit"

[preferences]
auto_gitignore = true
verbose = false
default_agent = "claude"
confirm_overwrite = true
network_timeout = 30

[registry]
remotes = ["https://api.github.com"]
cache_dir = ".aikit/cache"
cache_ttl_minutes = 60

# Project aikit.toml can override specific settings
# install_dir = ".aikit"  # Can be overridden per project
# default_agent = "gemini"  # Can be overridden per project
```

## Configuration Validation

AIKit validates configuration files when loading:

### Validation Rules

- **Version**: Must be a valid version string
- **Agent Keys**: Must be unique and valid identifiers
- **Paths**: Must be valid directory paths
- **URLs**: Must be valid HTTP/HTTPS URLs
- **Extensions**: Must be valid file extensions

### Error Handling

Invalid configurations produce clear error messages:

```bash
$ aikit init my-project
Error: Invalid configuration in aikit.toml
  - agents.claude.key: Invalid key format (contains spaces)
  - registry.cache_ttl_minutes: Must be positive integer
```

### Configuration Migration

When upgrading AIKit, configuration files may need updates:

```bash
# Check configuration compatibility
aikit check --config

# Migrate configuration to new format
aikit config migrate

# Validate migrated configuration
aikit config validate
```

## Environment Variables

AIKit supports environment variable overrides for sensitive or dynamic settings:

| Variable | Description | Configuration Path |
|----------|-------------|-------------------|
| `GITHUB_TOKEN` | GitHub API token | `registry.auth.token` |
| `AIKIT_VERBOSE` | Enable verbose output | `preferences.verbose` |
| `AIKIT_CACHE_DIR` | Cache directory | `registry.cache_dir` |
| `AIKIT_TIMEOUT` | Network timeout | `preferences.network_timeout` |

## Advanced Configuration

### Custom Output Formats

Define custom output formats for agents:

```toml
[agents.custom]
name = "Custom Agent"
key = "custom"
output_format = "json"  # Options: markdown, json, xml
output_dir = "commands/custom"
```

### Conditional Configuration

Use different settings based on environment:

```toml
# Development
[preferences]
verbose = true
cache_ttl_minutes = 5

# Production (override in production deployment)
# [preferences]
# verbose = false
# cache_ttl_minutes = 60
```

### Configuration Templates

Create reusable configuration templates:

```bash
# Create template
aikit config template create my-template

# Apply template to project
aikit config template apply my-template

# List available templates
aikit config template list
```

## Troubleshooting

### Common Configuration Issues

**"Configuration file not found"**
```bash
# Check if file exists
ls -la aikit.toml ~/.aikit/config.toml

# Create default configuration
aikit config init
```

**"Invalid agent configuration"**
```bash
# Validate agent configuration
aikit check agents

# List supported agents
aikit check agents --list
```

**"Registry connection failed"**
```bash
# Test registry connectivity
aikit registry test

# Check network and authentication
curl -H "Authorization: token $GITHUB_TOKEN" https://api.github.com/user
```

**"Permission denied"**
```bash
# Check file permissions
ls -la aikit.toml ~/.aikit/

# Fix permissions
chmod 644 aikit.toml
chmod 755 ~/.aikit/
```

### Configuration Debugging

Enable debug logging for configuration issues:

```bash
# Enable verbose configuration logging
aikit --debug check

# Validate configuration with detailed output
aikit config validate --verbose

# Show effective configuration (with all overrides applied)
aikit config show
```